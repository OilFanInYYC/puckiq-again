<div class="container-fluid" role="main">
    <div class="page-header">
        <h2>
            <%= sub_title %>
            <% if(player) { %><small><%= player.positions %></small><% } %>
        </h2>
        <%- include('_partials/filters') %>
    </div>
</div>

<div style="padding-left: 17px;">

    <div id="no-chart" style="display: none; padding: 0 0 17px 27px; font-style: italic;">
        Chart is hidden when shift type is 'all' since all players have a shift % of 100%.
    </div>
    <div id="woodmoney-visual" style="display:none;">
        <div id="chart-container">
            <div style="width: 100%; height: 100%;">
                <canvas id="bubble-chart"></canvas>
                <div style="display:flex;">
                    <div style="flex:1; padding-left: 50px;">
                        <span>Y Axis: </span>
                        <select id="y-axis">
                            <option value="ostart" <% if(request.shift_type === "ostart") { %>selected <% } %>>Offensive Zone Start</option>
                            <option value="nstart" <% if(request.shift_type === "nstart") { %>selected <% } %>>Neutral Zone Start</option>
                            <option value="dstart" <% if(request.shift_type === "dstart") { %>selected <% } %>>Defensive Zone Start</option>
                            <option value="otf" <% if(request.shift_type === "otf") { %>selected <% } %>>On The Fly</option>
                        </select>
                    </div>
                    <div style="flex:1">
                        <span>X Axis: </span>
                        <select id="x-axis">
                            <option value="dff_pct">DFF%</option>
                            <option value="gf_pct">GF%</option>
                            <option value="cf_pct">CF%</option>
                        </select>
                    </div>
                    <div style="flex:1">
                        <input type="checkbox" id="chart-preference" /> Show chart on page load
                    </div>
                </div>
            </div>
        </div>
        <div id="player-info">
            <div style="padding: 17px; text-align: center;">Tip: Click on a player bubble to the summary here</div>
        </div>
    </div>

    <table id="puckiq" class="table table-bordered table-condensed table-hover" style="max-width: 1400px;">
    </table>

    <div id="table-footer" style="text-align: center">
    </div>
</div>

<script type="text/javascript">
    //used by date range only...
    var wmState = {
        request : <%- JSON.stringify(request) %>,
    };
</script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.8.0/Chart.bundle.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels@0.7.0"></script>

<script src="/puckiq/js/shifts_chart.js"></script>
<script src="/puckiq/js/shifts.js"></script>

